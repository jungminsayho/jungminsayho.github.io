<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>[í”„ë¡œì íŠ¸] ê³ ê¸°ê° (Cloning &#39;ì •ìœ¡ê°&#39;) - Jungminsayho</title><meta name="Description" content=""><meta property="og:title" content="[í”„ë¡œì íŠ¸] ê³ ê¸°ê° (Cloning &#39;ì •ìœ¡ê°&#39;)" />
<meta property="og:description" content="í”„ë¡œì íŠ¸ ê°œìš” í”„ë¡œì íŠ¸ ì†Œê°œ: Djangoë¥¼ ì´ìš©í•œ ì»¤ë¨¸ìŠ¤ ì‚¬ì´íŠ¸ &lsquo;ì •ìœ¡ê°&rsquo; í´ë¡  í”„ë¡œì íŠ¸  ê°œë°œê¸°ê°„: 2021.07.05 - 2021.07.16 (ì´ 12ì¼)
ì°¸ì—¬ì¸ì›: í”„ë¡ íŠ¸ì—”ë“œ 3ëª…, ë°±ì—”ë“œ 3ëª…
github ì£¼ì†Œ: https://github.com/jungminsayho/gogigak
ë°±ì—”ë“œ êµ¬í˜„ ê¸°ëŠ¥ (ë‚´ê°€ ì‘ì—…í•œ ë‚´ìš©ì€ ğŸ‘€ í‘œì‹œ í•˜ì˜€ë‹¤.)
 bcryptì™€ jwtë¥¼ ì´ìš©í•œ íšŒì›ê°€ì… / ë¡œê·¸ì¸ ê¸°ëŠ¥ ë§ˆì´í˜ì´ì§€ êµ¬í˜„ ì£¼ì†Œ ë³„ ì‹ ì„ ë°°ì†¡ ê°€ëŠ¥ì—¬ë¶€ ë°˜í™˜ ê¸°ëŠ¥ ì œí’ˆ ìƒì„¸í˜ì´ì§€ êµ¬í˜„ ğŸ‘€ ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ê¸°ëŠ¥ (ì¹´í…Œê³ ë¦¬ ë³„, íŒë§¤ìˆœ/ë¦¬ë·°ìˆœ/ê°€ê²©ìˆœ) ğŸ‘€ ì œí’ˆì— ëŒ€í•œ ë¦¬ë·° ì‘ì„±/ì½ê¸°/ì‚­ì œ ê¸°ëŠ¥ ğŸ‘€ ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€/ì½ê¸°/ì‚­ì œ/ìˆ˜ëŸ‰ë³€ê²½ ê¸°ëŠ¥ êµ¬ë§¤ ê¸°ëŠ¥   ê¸°ëŠ¥ êµ¬í˜„ì— ëŒ€í•œ ê³ ë¯¼ (ë‚´ê°€ ì‘ì—…í•œ ê¸°ëŠ¥ ì¤‘, ê³ ë¯¼ì´ ë§ì´ ë“¤ì–´ê°”ë˜ ê¸°ëŠ¥ì— í•œí•˜ì—¬ ì‘ì„±í•˜ì˜€ë‹¤." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jungminsayho.github.io/posts/first_post/" />
<meta property="article:published_time" content="2021-07-18T14:34:24+09:00" />
<meta property="article:modified_time" content="2021-07-18T14:34:24+09:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[í”„ë¡œì íŠ¸] ê³ ê¸°ê° (Cloning &#39;ì •ìœ¡ê°&#39;)"/>
<meta name="twitter:description" content="í”„ë¡œì íŠ¸ ê°œìš” í”„ë¡œì íŠ¸ ì†Œê°œ: Djangoë¥¼ ì´ìš©í•œ ì»¤ë¨¸ìŠ¤ ì‚¬ì´íŠ¸ &lsquo;ì •ìœ¡ê°&rsquo; í´ë¡  í”„ë¡œì íŠ¸  ê°œë°œê¸°ê°„: 2021.07.05 - 2021.07.16 (ì´ 12ì¼)
ì°¸ì—¬ì¸ì›: í”„ë¡ íŠ¸ì—”ë“œ 3ëª…, ë°±ì—”ë“œ 3ëª…
github ì£¼ì†Œ: https://github.com/jungminsayho/gogigak
ë°±ì—”ë“œ êµ¬í˜„ ê¸°ëŠ¥ (ë‚´ê°€ ì‘ì—…í•œ ë‚´ìš©ì€ ğŸ‘€ í‘œì‹œ í•˜ì˜€ë‹¤.)
 bcryptì™€ jwtë¥¼ ì´ìš©í•œ íšŒì›ê°€ì… / ë¡œê·¸ì¸ ê¸°ëŠ¥ ë§ˆì´í˜ì´ì§€ êµ¬í˜„ ì£¼ì†Œ ë³„ ì‹ ì„ ë°°ì†¡ ê°€ëŠ¥ì—¬ë¶€ ë°˜í™˜ ê¸°ëŠ¥ ì œí’ˆ ìƒì„¸í˜ì´ì§€ êµ¬í˜„ ğŸ‘€ ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ê¸°ëŠ¥ (ì¹´í…Œê³ ë¦¬ ë³„, íŒë§¤ìˆœ/ë¦¬ë·°ìˆœ/ê°€ê²©ìˆœ) ğŸ‘€ ì œí’ˆì— ëŒ€í•œ ë¦¬ë·° ì‘ì„±/ì½ê¸°/ì‚­ì œ ê¸°ëŠ¥ ğŸ‘€ ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€/ì½ê¸°/ì‚­ì œ/ìˆ˜ëŸ‰ë³€ê²½ ê¸°ëŠ¥ êµ¬ë§¤ ê¸°ëŠ¥   ê¸°ëŠ¥ êµ¬í˜„ì— ëŒ€í•œ ê³ ë¯¼ (ë‚´ê°€ ì‘ì—…í•œ ê¸°ëŠ¥ ì¤‘, ê³ ë¯¼ì´ ë§ì´ ë“¤ì–´ê°”ë˜ ê¸°ëŠ¥ì— í•œí•˜ì—¬ ì‘ì„±í•˜ì˜€ë‹¤."/>
<meta name="application-name" content="Jungminsayho">
<meta name="apple-mobile-web-app-title" content="Jungminsayho"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://jungminsayho.github.io/posts/first_post/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "[í”„ë¡œì íŠ¸] ê³ ê¸°ê° (Cloning 'ì •ìœ¡ê°')",
        "inLanguage": "en-us",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/jungminsayho.github.io\/posts\/first_post\/"
        },"genre": "posts","wordcount":  875 ,
        "url": "https:\/\/jungminsayho.github.io\/posts\/first_post\/","datePublished": "2021-07-18T14:34:24+09:00","dateModified": "2021-07-18T14:34:24+09:00","publisher": {
            "@type": "Organization",
            "name": "Jungminsayho"},"author": {
                "@type": "Person",
                "name": "Jungminsayho"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Jungminsayho">Jungminsayho</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Jungminsayho">Jungminsayho</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">[í”„ë¡œì íŠ¸] ê³ ê¸°ê° (Cloning &#39;ì •ìœ¡ê°&#39;)</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Jungminsayho</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2021-07-18">2021-07-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;875 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#í”„ë¡œì íŠ¸-ê°œìš”">í”„ë¡œì íŠ¸ ê°œìš”</a></li>
    <li><a href="#ë°±ì—”ë“œ-êµ¬í˜„-ê¸°ëŠ¥">ë°±ì—”ë“œ êµ¬í˜„ ê¸°ëŠ¥</a></li>
    <li><a href="#ê¸°ëŠ¥-êµ¬í˜„ì—-ëŒ€í•œ-ê³ ë¯¼">ê¸°ëŠ¥ êµ¬í˜„ì— ëŒ€í•œ ê³ ë¯¼</a>
      <ul>
        <li><a href="#1-ì œí’ˆ-ë¦¬ìŠ¤íŠ¸-í•„í„°ë§-ê¸°ëŠ¥">1. ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ê¸°ëŠ¥</a>
          <ul>
            <li><a href="#-që¥¼-í–¥í•œ-ì‚½ì§ˆ">ğŸ§¹ Që¥¼ í–¥í•œ ì‚½ì§ˆ</a></li>
          </ul>
        </li>
        <li><a href="#2-ë¦¬ë·°-ì½ê¸°ì‚­ì œ-ê¸°ëŠ¥-êµ¬í˜„">2. ë¦¬ë·° ì½ê¸°/ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„</a></li>
        <li><a href="#3-ìµœì í™”-ê³¼ì •">3. ìµœì í™” ê³¼ì •</a></li>
        <li><a href="#ì–´ë””ì„ ê°€-ëˆ„êµ°ê°€ì—-ë¬´ìŠ¨-ì¼ì´-ìƒê¸°ë©´-í‹€ë¦¼ì—†ì´-ë‚˜íƒ€ë‚œë‹¤-ê³ ê¸°ê°-ë§Œì„¸">ğŸ¥©ì–´ë””ì„ ê°€ ëˆ„êµ°ê°€ì— ë¬´ìŠ¨ ì¼ì´ ìƒê¸°ë©´ í‹€ë¦¼ì—†ì´ ë‚˜íƒ€ë‚œë‹¤ ê³ ê¸°ê° ë§Œì„¸ğŸ¥©</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="í”„ë¡œì íŠ¸-ê°œìš”">í”„ë¡œì íŠ¸ ê°œìš”</h2>
<p><strong>í”„ë¡œì íŠ¸ ì†Œê°œ</strong>: Djangoë¥¼ ì´ìš©í•œ ì»¤ë¨¸ìŠ¤ ì‚¬ì´íŠ¸ &lsquo;ì •ìœ¡ê°&rsquo; í´ë¡  í”„ë¡œì íŠ¸ <br/>
<strong>ê°œë°œê¸°ê°„</strong>: 2021.07.05 - 2021.07.16 (ì´ 12ì¼)<br>
<strong>ì°¸ì—¬ì¸ì›</strong>: í”„ë¡ íŠ¸ì—”ë“œ 3ëª…, ë°±ì—”ë“œ 3ëª…<br>
<strong>github ì£¼ì†Œ</strong>: <a href="https://github.com/jungminsayho/gogigak">https://github.com/jungminsayho/gogigak</a></p>
<br>
<h2 id="ë°±ì—”ë“œ-êµ¬í˜„-ê¸°ëŠ¥">ë°±ì—”ë“œ êµ¬í˜„ ê¸°ëŠ¥</h2>
<p>(ë‚´ê°€ ì‘ì—…í•œ ë‚´ìš©ì€ <strong>ğŸ‘€ í‘œì‹œ</strong> í•˜ì˜€ë‹¤.)</p>
<ul>
<li>bcryptì™€ jwtë¥¼ ì´ìš©í•œ íšŒì›ê°€ì… / ë¡œê·¸ì¸ ê¸°ëŠ¥</li>
<li>ë§ˆì´í˜ì´ì§€ êµ¬í˜„</li>
<li>ì£¼ì†Œ ë³„ ì‹ ì„ ë°°ì†¡ ê°€ëŠ¥ì—¬ë¶€ ë°˜í™˜ ê¸°ëŠ¥</li>
<li><strong>ì œí’ˆ ìƒì„¸í˜ì´ì§€ êµ¬í˜„ ğŸ‘€</strong></li>
<li><strong>ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ê¸°ëŠ¥ (ì¹´í…Œê³ ë¦¬ ë³„, íŒë§¤ìˆœ/ë¦¬ë·°ìˆœ/ê°€ê²©ìˆœ) ğŸ‘€</strong></li>
<li><strong>ì œí’ˆì— ëŒ€í•œ ë¦¬ë·° ì‘ì„±/ì½ê¸°/ì‚­ì œ ê¸°ëŠ¥ ğŸ‘€</strong></li>
<li>ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆ ì¶”ê°€/ì½ê¸°/ì‚­ì œ/ìˆ˜ëŸ‰ë³€ê²½ ê¸°ëŠ¥</li>
<li>êµ¬ë§¤ ê¸°ëŠ¥</li>
</ul>
<br>
<hr>
<h2 id="ê¸°ëŠ¥-êµ¬í˜„ì—-ëŒ€í•œ-ê³ ë¯¼">ê¸°ëŠ¥ êµ¬í˜„ì— ëŒ€í•œ ê³ ë¯¼</h2>
<p>(ë‚´ê°€ ì‘ì—…í•œ ê¸°ëŠ¥ ì¤‘, ê³ ë¯¼ì´ ë§ì´ ë“¤ì–´ê°”ë˜ ê¸°ëŠ¥ì— í•œí•˜ì—¬ ì‘ì„±í•˜ì˜€ë‹¤.)<br><br></p>
<h3 id="1-ì œí’ˆ-ë¦¬ìŠ¤íŠ¸-í•„í„°ë§-ê¸°ëŠ¥">1. ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í•„í„°ë§ ê¸°ëŠ¥</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># products/views.py</span>

<span class="n">sort</span>          <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">category_name</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
<span class="n">category</span>      <span class="o">=</span> <span class="bp">None</span>
</code></pre></td></tr></table>
</div>
</div><br>
<p>ë¨¼ì €, query parameterë¡œ ë°›ì„ <code>sort</code>ì™€ <code>category</code>ì˜ valueë¥¼ ëª¨ë‘ ë°›ì•„ë‘”ë‹¤.<br>
<code>category = None</code>ìœ¼ë¡œ ë¯¸ë¦¬ ë³€ìˆ˜ì„¤ì •ì„ í•´ë‘” ì´ìœ ëŠ” ì•„ë˜ì— ë‚˜ì˜¤ì§€ë§Œ, ì¹´í…Œê³ ë¦¬ ë³„ë¡œ ì¹´í…Œê³ ë¦¬ ì´ë¯¸ì§€ë„ ë°˜í™˜í•´ì¤˜ì•¼ í•˜ëŠ”ë°,
ì œí’ˆë¦¬ìŠ¤íŠ¸ì˜ ì „ì²´ë¥¼ ë°˜í™˜í•˜ëŠ” ê²½ìš°(ì¹´í…Œê³ ë¦¬ í•„í„° ì—†ì´)ì˜ ì´ë¯¸ì§€ëŠ” í”„ë¡ íŠ¸ì—ì„œ í•˜ë“œì½”ë”©ìœ¼ë¡œ ë„£ëŠ” ë°©ë²•ì„ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì—, ì´ ê²½ìš° ë°±ì—”ë“œì—ì„œëŠ” ì¹´í…Œê³ ë¦¬ ì´ë¯¸ì§€ë¥¼ ë¹ˆ ê°’ìœ¼ë¡œ ë°˜í™˜í•˜ê¸° ìœ„í•¨ì´ë‹¤.</p>
<br>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># products/views.py</span>

<span class="n">q</span> <span class="o">=</span> <span class="n">Q</span><span class="p">()</span>

<span class="k">if</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">category_name</span><span class="p">)</span><span class="o">.</span><span class="n">exists</span><span class="p">():</span>
    <span class="n">category</span> <span class="o">=</span> <span class="n">Category</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">category_name</span><span class="p">)</span>
    <span class="n">q</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">category</span><span class="p">),</span> <span class="n">q</span><span class="o">.</span><span class="n">AND</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><br>
<p>ì¹´í…Œê³ ë¦¬ í•„í„°ë§ì„ ìœ„í•´ <strong><code>Q ê°ì²´</code></strong>ë¥¼ ì‚¬ìš©í–ˆê³ , <strong><code>Q ê°ì²´</code></strong>ì— ì•„ë¬´ í•„í„°ì¡°ê±´ë„ ì €ì¥ë˜ì§€ ì•Šì€ ê²½ìš°ì—ëŠ” ì „ì²´ productë¥¼ ë°˜í™˜í•œë‹¤.</p>
<br>
<h4 id="-që¥¼-í–¥í•œ-ì‚½ì§ˆ">ğŸ§¹ Që¥¼ í–¥í•œ ì‚½ì§ˆ</h4>
<p>ì²˜ìŒì— Qì— ëŒ€í•´ ì•Œì•„ë´¤ì„ ë•ŒëŠ”, <code>ì¡°ê±´A or ì¡°ê±´B</code>ì™€ ê°™ì€ ì—¬ëŸ¬ ì¡°ê±´ì˜ í•©ì§‘í•©ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ë°©ë²•ì´ë¼ê³ ë§Œ ìƒê°í–ˆê³ , ê·¸ë˜ì„œ ë‚´ê°€ êµ¬í˜„í•´ì•¼ í•  í•„í„°ë§ì—ëŠ” í•„ìš”í•˜ì§€ ì•Šë‹¤ê³  ìƒê°í–ˆë‹¤.<br>
ê·¸ë˜ì„œ ê¸¸ê³  ê¸´ <code>if ì¡°ê±´ë¬¸</code>ë“¤ê³¼ <code>ì—ëŸ¬ ì²˜ë¦¬</code>ë¡œ ì¤„ì¤„ì´ ë‚´ë ¤ì ì—ˆê³ , ê²°êµ­ ì›í•˜ëŠ”ëŒ€ë¡œ êµ¬í˜„ì€ ëì—ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ, Qì— ëŒ€í•´ ë‹¤ì‹œ íŒíŠ¸ë¥¼ ì–»ê³  ì½”ë“œë¥¼ ìˆ˜ì •í•œ ê²°ê³¼, ì½”ë“œê°€ ì •ë§ ë§ì´ ì¤„ì—ˆê³  ë¶ˆí•„ìš”í•œ ì—ëŸ¬ì²˜ë¦¬ë„ ì¤„ì¼ ìˆ˜ ìˆì—ˆë‹¤.<br> ê·¸ë¦¬ê³  ì§€ê¸ˆë³´ë‹¤ í›¨ì”¬ ë” ë³µì¡í•œ í•„í„°ë§ ë¡œì§ì„ êµ¬í˜„í•´ì•¼ í•  ë•Œ ì •ë§ ìœ ìš©í•œ ë°©ë²•ì´ë¼ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.</p>
<p>(2ì£¼ë¼ëŠ” ê¸°ê°„ ì•ˆì—ì„œ) ì´ê±¸ ë„ˆë¬´ ëŠ¦ê²Œ ì•Œì•˜ì§€ë§Œ, ê·¸ë˜ë„ ë¹„íš¨ìœ¨ì ì¸ ë°©ë²•ìœ¼ë¡œ ì‚½ì§ˆí•œ ê²½í—˜ì„ ì–»ì—ˆê³  ê·¸ë¥¼ í†µí•´ Qì˜ ì†Œì¤‘í•¨ì„ ì•Œê²Œ ë˜ì—ˆë‹¤.</p>
<br>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># products/views.py</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;category_image&#39;</span><span class="p">:</span> <span class="n">category</span><span class="o">.</span><span class="n">image</span> <span class="k">if</span> <span class="n">category</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s1">&#39;id&#39;</span>       <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span>     <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> 
            <span class="s1">&#39;price&#39;</span>    <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">price</span><span class="p">),</span>
            <span class="s1">&#39;grams&#39;</span>    <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">grams</span><span class="p">),</span>
            <span class="s1">&#39;thumbnail&#39;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">,</span>
            <span class="s1">&#39;isOrganic&#39;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">is_organic</span><span class="p">,</span>
            <span class="s1">&#39;sales&#39;</span>    <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">sales</span><span class="p">,</span>
            <span class="s1">&#39;reviews&#39;</span>  <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">reviews</span><span class="p">,</span>
            <span class="s1">&#39;options&#39;</span>  <span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">option</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">}</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">product</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">all</span><span class="p">()],</span>
            <span class="s1">&#39;stock&#39;</span>    <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">stock</span>
        <span class="p">}</span> <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">Product</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">q</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">sort_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sort</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">))]</span>
    <span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><br>
<p>category í•„í„°ë¥¼ ì €ì¥í•œ që¡œ productë¥¼ í•„í„°ë§í•œ í›„, <code>sort</code>ë¼ëŠ” keyë¡œ ë°›ì€ valueë¥¼ í†µí•´ íŒë§¤ìˆœ/ë¦¬ë·°ìˆœ/ê°€ê²©ìˆœ í•„í„°ë§ë„ ì ìš©í•œ ê²°ê³¼ë¬¼ì„ ë°˜í™˜í•œë‹¤.</p>
<p><br><br></p>
<h3 id="2-ë¦¬ë·°-ì½ê¸°ì‚­ì œ-ê¸°ëŠ¥-êµ¬í˜„">2. ë¦¬ë·° ì½ê¸°/ì‚­ì œ ê¸°ëŠ¥ êµ¬í˜„</h3>
<p>ë¦¬ë·° ì½ê¸°ë¥¼ êµ¬í˜„í•˜ë ¤ëŠ”ë°, ë¦¬ë·°ë¥¼ ì½ì–´ì˜¬ ë•Œ ë³¸ì¸ì´ ì‘ì„±í•œ ë¦¬ë·°ì—ëŠ” <code>ì‚­ì œ</code>ë²„íŠ¼ì´ ë‹¬ë¦¬ë„ë¡ êµ¬í˜„í•˜ê³  ì‹¶ì—ˆë‹¤.<br>
ë‹¤ë¥¸ ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê¸°ëŠ¥ì— ëª¨ë‘ ë‹¬ì•˜ë˜ <code>login_decorator</code>ë¥¼ ë‹¬ìë‹ˆ, ë¹„ë¡œê·¸ì¸ ìƒíƒœì—ì„œëŠ” ì•„ì˜ˆ ë¦¬ë·°ë¥¼ ì½ì„ ìˆ˜ë„ ì—†ê²Œ ë˜ë‹ˆ, ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ ê³ ë¯¼ì´ ë§ì•˜ë‹¤.<br><br></p>
<p>ê·¸ë˜ì„œ íŒ€ì›ë“¤ê³¼ í•¨ê»˜ ë‚´ë†“ì€ í•´ê²°ì±…ì€, ê¸°ì¡´ì˜ <code>login_decorator</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³ , <code>login_decorator</code>ì˜ ë‚´ìš©ì„ <code>ReviewView</code>ì˜ <code>get</code>í•¨ìˆ˜ ë‚´ì— ì‚½ì…í•˜ë˜, í† í°ì„ ë°›ì•„ì˜¬ ë•Œì™€ ì•„ë‹ ë•Œì˜ ê²½ìš°ë¥¼ ë‚˜ëˆ„ì–´ ë¡œì§ì„ ë§Œë“œëŠ” ê²ƒì´ì—ˆë‹¤.<br>
ì´ ë°©ë²•ìœ¼ë¡œë„ ë‚´ê°€ ì›í•˜ëŠ” ê¸°ëŠ¥ì€ êµ¬í˜„ì´ ëì§€ë§Œ, ë©˜í† ë‹˜ì´ ì—¬ëŸ¬ê°€ì§€ë¥¼ ê³ ë ¤í•˜ì—¬ 2ê°€ì§€ì˜ ëŒ€ì•ˆì„ ì œì‹œí•´ ì£¼ì…¨ë‹¤.<br><br></p>
<p><strong>1. ë°ì½”ë ˆì´í„° ë‚˜ëˆ„ê¸°</strong> <br>
(ë¹„ë¡œê·¸ì¸/ë¡œê·¸ì¸ ìƒíƒœì—ì„œ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë°ì½”ë ˆì´í„°ì™€ ë¡œê·¸ì¸ì´ í•„ìš”í•œ ê¸°ëŠ¥ì—ë§Œ ì‚¬ìš©í•˜ëŠ” ë°ì½”ë ˆì´í„°)<br>
<strong>2. ì—”ë“œí¬ì¸íŠ¸ ë‚˜ëˆ„ê¸°</strong> <br>
(ë¹„ë¡œê·¸ì¸ ìƒíƒœì™€ ë¡œê·¸ì¸ ìƒíƒœë¡œ ì ‘ê·¼í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ë¥¼ ë‹¬ë¦¬ í•˜ê¸°)<br><br></p>
<p>í”„ë¡œì íŠ¸ ë§‰ë°”ì§€ì—¬ì„œ ì‹œê°„ì´ ë¶€ì¡±í–ˆê¸° ë•Œë¬¸ì—, <strong>1ë²ˆ</strong>ì„ ì„ íƒí•˜ì—¬ ë°ì½”ë ˆì´í„°ë¥¼ í•˜ë‚˜ ë” ì‘ì„±í–ˆë‹¤.<br>
í† í°ì´ ì—†ì„ ë•ŒëŠ” <code>request.user</code>ë¥¼ ë¹ˆê°’ìœ¼ë¡œ ë°˜í™˜í•˜ê³ , í† í°ì´ ìˆì„ ë•ŒëŠ” <code>request.user</code>ì— ë¡œê·¸ì¸í•œ ìœ ì €ë¥¼ ë‹´ì•„ ë°˜í™˜í•œë‹¤.<br><br></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># utils.py</span>

<span class="k">def</span> <span class="nf">public_login_required</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">request</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
            <span class="n">token</span>        <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&#34;Authorization&#34;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">token</span><span class="p">:</span>
                <span class="n">payload</span>      <span class="o">=</span> <span class="n">jwt</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">SECRET_KEY</span><span class="p">,</span> <span class="n">algorithms</span><span class="o">=</span><span class="s2">&#34;HS256&#34;</span><span class="p">)</span>
                <span class="n">request</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="n">payload</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;user_id&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">))</span>

            <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        
        <span class="k">except</span> <span class="n">jwt</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">DecodeError</span><span class="p">:</span>     
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s1">&#39;message&#39;</span> <span class="p">:</span> <span class="s1">&#39;INVALID_TOKEN&#39;</span><span class="p">},</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">400</span><span class="p">)</span>
        
        <span class="k">except</span> <span class="n">jwt</span><span class="o">.</span><span class="n">ExpiredSignatureError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s2">&#34;message&#34;</span><span class="p">:</span> <span class="s2">&#34;EXPIRED_TOKEN&#34;</span><span class="p">},</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">400</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">User</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s1">&#39;message&#39;</span> <span class="p">:</span> <span class="s1">&#39;INVALID_USER&#39;</span><span class="p">},</span> <span class="n">status</span> <span class="o">=</span> <span class="mi">401</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">wrapper</span>
</code></pre></td></tr></table>
</div>
</div><p><br> <code>ReviewView</code>ì˜ <code>get</code> í•¨ìˆ˜ì— ìœ„ì—ì„œ ì‘ì„±í•œ ë°ì½”ë ˆì´í„°ë¥¼ ë‹¬ì•„ì£¼ê³ ,
<code>results</code>ì— <code>myReview</code>ë¼ëŠ” keyì˜ valueë¡œ, ë¡œê·¸ì¸í•œ ìœ ì €ì™€ ë¦¬ë·°ë¥¼ ì‘ì„±í•œ ìœ ì €ê°€ ì¼ì¹˜í•  ë•Œ <code>True</code>ë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.<br><br></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># products/views.py</span>

<span class="nd">@public_login_required</span>
<span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">product_id</span><span class="p">):</span>
    <span class="n">signed_user</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span>

    <span class="n">results</span> <span class="o">=</span> <span class="p">[{</span>
        <span class="s1">&#39;id&#39;</span>            <span class="p">:</span> <span class="n">review</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s1">&#39;user&#39;</span>          <span class="p">:</span> <span class="n">review</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s1">&#39;purchaseCount&#39;</span> <span class="p">:</span> <span class="n">Order</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">review</span><span class="o">.</span><span class="n">user</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">(),</span>
        <span class="s1">&#39;title&#39;</span>         <span class="p">:</span> <span class="n">review</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="s1">&#39;content&#39;</span>       <span class="p">:</span> <span class="n">review</span><span class="o">.</span><span class="n">content</span><span class="p">,</span>
        <span class="s1">&#39;image&#39;</span>         <span class="p">:</span> <span class="n">review</span><span class="o">.</span><span class="n">image_url</span><span class="p">,</span>
        <span class="s1">&#39;createdAt&#39;</span>     <span class="p">:</span> <span class="n">review</span><span class="o">.</span><span class="n">created_at</span><span class="p">,</span>
        <span class="s1">&#39;myReview&#39;</span>      <span class="p">:</span> <span class="bp">True</span> <span class="k">if</span> <span class="n">review</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">signed_user</span> <span class="k">else</span> <span class="bp">False</span>
    <span class="p">}</span> <span class="k">for</span> <span class="n">review</span> <span class="ow">in</span> <span class="n">Review</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">select_related</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">product_id</span><span class="o">=</span><span class="n">product_id</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-id&#39;</span><span class="p">)]</span>

    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s1">&#39;results&#39;</span><span class="p">:</span> <span class="n">results</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><p><br><br></p>
<h3 id="3-ìµœì í™”-ê³¼ì •">3. ìµœì í™” ê³¼ì •</h3>
<img src="https://images.velog.io/images/jungminnn/post/90de4d7f-7b8b-4c0f-91e5-4e807056e503/image.png" width="100%" height="100%"/>
<p>ì œí’ˆë¦¬ìŠ¤íŠ¸ë¥¼ ì½ì–´ì˜¬ ë•Œ, ì½”ë“œê°€ ë¯¸í¡í•œ íƒ“ì— í˜¸ì¶œë˜ëŠ” ì¿¼ë¦¬ê°€ ë„ˆë¬´ ë§ì•˜ë‹¤. (38ê°œ,,)
ê³„íší•œ ê¸°ëŠ¥ êµ¬í˜„ì´ ëª¨ë‘ ëë‚˜ê³  ë‚œ í›„, ì¿¼ë¦¬ ìµœì í™”ë¥¼ ì§„í–‰í•´ë³´ê³ ì <code>select_related</code>ì™€ <code>prefetch_related</code>ì— ëŒ€í•´ ê°„ë‹¨íˆ ì•Œì•„ë³´ì•˜ë‹¤.
<code>product</code>ì™€ <code>option</code>ì€ ManyToMany ê´€ê³„ì´ê¸° ë•Œë¬¸ì— <code>prefetch_related</code>ë¥¼ ì‚¬ìš©í–ˆë‹¤. <br><br></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># products/views.py</span>

<span class="n">products</span> <span class="o">=</span> <span class="n">Product</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;category_image&#39;</span><span class="p">:</span> <span class="n">category</span><span class="o">.</span><span class="n">image</span> <span class="k">if</span> <span class="n">category</span> <span class="k">else</span> <span class="bp">None</span><span class="p">,</span>
    <span class="s1">&#39;items&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s1">&#39;id&#39;</span>       <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
            <span class="s1">&#39;name&#39;</span>     <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> 
            <span class="s1">&#39;price&#39;</span>    <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">price</span><span class="p">),</span>
            <span class="s1">&#39;grams&#39;</span>    <span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">product</span><span class="o">.</span><span class="n">grams</span><span class="p">),</span>
            <span class="s1">&#39;thumbnail&#39;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">,</span>
            <span class="s1">&#39;isOrganic&#39;</span><span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">is_organic</span><span class="p">,</span>
            <span class="s1">&#39;sales&#39;</span>    <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">sales</span><span class="p">,</span>
            <span class="s1">&#39;reviews&#39;</span>  <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">reviews</span><span class="p">,</span>
            <span class="s1">&#39;options&#39;</span>  <span class="p">:</span> <span class="p">[{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">option</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">option</span><span class="o">.</span><span class="n">name</span><span class="p">}</span> <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">product</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">all</span><span class="p">()],</span>
            <span class="s1">&#39;stock&#39;</span>    <span class="p">:</span> <span class="n">product</span><span class="o">.</span><span class="n">stock</span>
        <span class="p">}</span> <span class="k">for</span> <span class="n">product</span> <span class="ow">in</span> <span class="n">products</span><span class="o">.</span><span class="n">prefetch_related</span><span class="p">(</span><span class="s1">&#39;options&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">sort_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">sort</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">))]</span>
    <span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div><img src="https://images.velog.io/images/jungminnn/post/c51ce79d-c65e-4a8a-b34b-41855825a184/image.png" width="100%" height="100%"/>
<p>ì¿¼ë¦¬ê°€ 38ê°œì—ì„œ 5ê°œë¡œ ì¤„ì—ˆë‹¤,,
ë„ˆë¬´ ì‹ ê¸°í•˜ê³  ì¬ë°Œì—ˆë‹¤. ì¶”í›„ì— ë‹¤ë¥¸ ê¸°ëŠ¥ë“¤ì—ë„ ëª¨ë‘ ì‹œë„í•´ ë³¼ ì˜ˆì •ì´ë‹¤!</p>
<br>
<hr>
<h3 id="ì–´ë””ì„ ê°€-ëˆ„êµ°ê°€ì—-ë¬´ìŠ¨-ì¼ì´-ìƒê¸°ë©´-í‹€ë¦¼ì—†ì´-ë‚˜íƒ€ë‚œë‹¤-ê³ ê¸°ê°-ë§Œì„¸">ğŸ¥©ì–´ë””ì„ ê°€ ëˆ„êµ°ê°€ì— ë¬´ìŠ¨ ì¼ì´ ìƒê¸°ë©´ í‹€ë¦¼ì—†ì´ ë‚˜íƒ€ë‚œë‹¤ ê³ ê¸°ê° ë§Œì„¸ğŸ¥©</h3>
<p>ë‚´ê°€ ê³¼ì—° ì˜í•  ìˆ˜ ìˆì„ê¹Œ, ì‹œì‘í•˜ê¸° ì „ì—” ê±±ì •ì´ ë§ì•˜ë‹¤.
í•˜ì§€ë§Œ ìš´ì´ ì¢‹ê²Œë„ ë„ˆë¬´ ì¢‹ì€ íŒ€ì›ë“¤ì„ ë§Œë‚¬ê³ , ë•ë¶„ì— ì •ë§ ì¦ê±°ìš´ ì‹œê°„ì„ ë³´ëƒˆë‹¤.
1ì£¼ì°¨ë„ ì¦ê²ê²Œ í–ˆê³ , 1ì£¼ì°¨ íšŒê³  ë•Œì—ë„ ì§€ê¸ˆì²˜ëŸ¼ ë‚¨ì€ ê¸°ê°„ë„ ì¦ê²ê²Œ í•˜ìê³  ë§í–ˆê³ ,
í”„ë¡œì íŠ¸ ë§ˆë¬´ë¦¬ íšŒê³  ë•Œì—ëŠ” <strong>ì •ë§ ì¦ê±°ìš´ ì‹œê°„ì´ì—ˆë‹¤</strong>ê³  ë§í–ˆë‹¤. ì§„ì‹¬ì´ì—ˆë‹¤!</p>
<p>ì²˜ìŒì´ë¼ ëª¨ë‘ ì–´ë ¤ì› ì„í…ë°, ëª¨ë‘ì˜ ë°°ë ¤ì™€ ë…¸ë ¥ìœ¼ë¡œ ëê¹Œì§€ ì˜ ì˜¬ ìˆ˜ ìˆì—ˆë‹¤.
ë„ˆë¬´ ê³ ë§™ê³ , ì¦ê±°ì› ë‹¤!</p>
<p><br><br><br><br></p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2021-07-18</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"></div>
</div>
<div id="comments">
        <div id="utterances"></div>

            </div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.68.3">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Jungminsayho</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"pathname","label":"","lightTheme":"github-light","repo":"jungminsayho/jungminsayho.github.io"}}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
